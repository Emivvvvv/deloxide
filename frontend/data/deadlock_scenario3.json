{
  "title": "Resource Hierarchy Solution",
  "description": "This scenario demonstrates how deadlocks can be avoided using resource hierarchy. Both threads attempt to acquire multiple resources, but they do so in the same order (A then B), preventing a deadlock situation.",
  "logs": [
    {
      "step": 1,
      "timestamp": "2023-07-10T09:00:00.000Z",
      "type": "init",
      "description": "Two threads (Thread 1 and Thread 2) and two resources (Resource A and Resource B) are created."
    },
    {
      "step": 2,
      "timestamp": "2023-07-10T09:00:01.000Z",
      "type": "attempt",
      "thread_id": 1,
      "resource_id": "A",
      "thread_name": "Thread 1",
      "resource_name": "Resource A",
      "description": "Thread 1 attempts to acquire Resource A.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)"
    },
    {
      "step": 3,
      "timestamp": "2023-07-10T09:00:01.200Z",
      "type": "acquired",
      "thread_id": 1,
      "resource_id": "A",
      "thread_name": "Thread 1",
      "resource_name": "Resource A",
      "description": "Thread 1 successfully acquires Resource A.",
      "code_reference": "detector.on_lock_acquired(thread_id, lock_id)"
    },
    {
      "step": 4,
      "timestamp": "2023-07-10T09:00:02.000Z",
      "type": "attempt",
      "thread_id": 1,
      "resource_id": "B",
      "thread_name": "Thread 1",
      "resource_name": "Resource B",
      "description": "Thread 1 attempts to acquire Resource B.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)"
    },
    {
      "step": 5,
      "timestamp": "2023-07-10T09:00:02.200Z",
      "type": "acquired",
      "thread_id": 1,
      "resource_id": "B",
      "thread_name": "Thread 1",
      "resource_name": "Resource B",
      "description": "Thread 1 successfully acquires Resource B.",
      "code_reference": "detector.on_lock_acquired(thread_id, lock_id)"
    },
    {
      "step": 6,
      "timestamp": "2023-07-10T09:00:03.000Z",
      "type": "released",
      "thread_id": 1,
      "resource_id": "B",
      "thread_name": "Thread 1",
      "resource_name": "Resource B",
      "description": "Thread 1 releases Resource B after completing its operation.",
      "code_reference": "detector.on_lock_released(thread_id, lock_id)"
    },
    {
      "step": 7,
      "timestamp": "2023-07-10T09:00:03.200Z",
      "type": "released",
      "thread_id": 1,
      "resource_id": "A",
      "thread_name": "Thread 1",
      "resource_name": "Resource A",
      "description": "Thread 1 releases Resource A after completing its operation.",
      "code_reference": "detector.on_lock_released(thread_id, lock_id)"
    },
    {
      "step": 8,
      "timestamp": "2023-07-10T09:00:04.000Z",
      "type": "attempt",
      "thread_id": 2,
      "resource_id": "A",
      "thread_name": "Thread 2",
      "resource_name": "Resource A",
      "description": "Thread 2 attempts to acquire Resource A.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)"
    },
    {
      "step": 9,
      "timestamp": "2023-07-10T09:00:04.200Z",
      "type": "acquired",
      "thread_id": 2,
      "resource_id": "A",
      "thread_name": "Thread 2",
      "resource_name": "Resource A",
      "description": "Thread 2 successfully acquires Resource A.",
      "code_reference": "detector.on_lock_acquired(thread_id, lock_id)"
    },
    {
      "step": 10,
      "timestamp": "2023-07-10T09:00:05.000Z",
      "type": "attempt",
      "thread_id": 2,
      "resource_id": "B",
      "thread_name": "Thread 2",
      "resource_name": "Resource B",
      "description": "Thread 2 attempts to acquire Resource B.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)"
    },
    {
      "step": 11,
      "timestamp": "2023-07-10T09:00:05.200Z",
      "type": "acquired",
      "thread_id": 2,
      "resource_id": "B",
      "thread_name": "Thread 2",
      "resource_name": "Resource B",
      "description": "Thread 2 successfully acquires Resource B.",
      "code_reference": "detector.on_lock_acquired(thread_id, lock_id)"
    },
    {
      "step": 12,
      "timestamp": "2023-07-10T09:00:06.000Z",
      "type": "released",
      "thread_id": 2,
      "resource_id": "B",
      "thread_name": "Thread 2",
      "resource_name": "Resource B",
      "description": "Thread 2 releases Resource B after completing its operation.",
      "code_reference": "detector.on_lock_released(thread_id, lock_id)"
    },
    {
      "step": 13,
      "timestamp": "2023-07-10T09:00:06.200Z",
      "type": "released",
      "thread_id": 2,
      "resource_id": "A",
      "thread_name": "Thread 2",
      "resource_name": "Resource A",
      "description": "Thread 2 releases Resource A after completing its operation.",
      "code_reference": "detector.on_lock_released(thread_id, lock_id)"
    }
  ],
  "graph_state": [
    {
      "step": 1,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": []
    },
    {
      "step": 2,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "attempt"}
      ]
    },
    {
      "step": 3,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"}
      ]
    },
    {
      "step": 4,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T1", "target": "RB", "type": "attempt"}
      ]
    },
    {
      "step": 5,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T1", "target": "RB", "type": "acquired"}
      ]
    },
    {
      "step": 6,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"}
      ]
    },
    {
      "step": 7,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": []
    },
    {
      "step": 8,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T2", "target": "RA", "type": "attempt"}
      ]
    },
    {
      "step": 9,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T2", "target": "RA", "type": "acquired"}
      ]
    },
    {
      "step": 10,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T2", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "attempt"}
      ]
    },
    {
      "step": 11,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T2", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "acquired"}
      ]
    },
    {
      "step": 12,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": [
        {"source": "T2", "target": "RA", "type": "acquired"}
      ]
    },
    {
      "step": 13,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"}
      ],
      "links": []
    }
  ]
} 