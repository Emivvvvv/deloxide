{
  "title": "Circular Deadlock with Three Threads",
  "description": "A deadlock scenario with three threads (T1, T2, and T3) creating a circular dependency. Each thread holds one resource and is waiting for the resource held by another thread.",
  "logs": [
    {
      "step": 1,
      "timestamp": "2023-06-15T13:00:00.000Z",
      "type": "init",
      "description": "Three threads (Thread 1, Thread 2, and Thread 3) and three resources (Resource A, Resource B, and Resource C) are created."
    },
    {
      "step": 2,
      "timestamp": "2023-06-15T13:00:01.000Z",
      "type": "attempt",
      "thread_id": 1,
      "resource_id": "A",
      "thread_name": "Thread 1",
      "resource_name": "Resource A",
      "description": "Thread 1 attempts to acquire Resource A.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)"
    },
    {
      "step": 3,
      "timestamp": "2023-06-15T13:00:01.200Z",
      "type": "acquired",
      "thread_id": 1,
      "resource_id": "A",
      "thread_name": "Thread 1",
      "resource_name": "Resource A",
      "description": "Thread 1 successfully acquires Resource A.",
      "code_reference": "detector.on_lock_acquired(thread_id, lock_id)"
    },
    {
      "step": 4,
      "timestamp": "2023-06-15T13:00:02.000Z",
      "type": "attempt",
      "thread_id": 2,
      "resource_id": "B",
      "thread_name": "Thread 2",
      "resource_name": "Resource B",
      "description": "Thread 2 attempts to acquire Resource B.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)"
    },
    {
      "step": 5,
      "timestamp": "2023-06-15T13:00:02.200Z",
      "type": "acquired",
      "thread_id": 2,
      "resource_id": "B",
      "thread_name": "Thread 2",
      "resource_name": "Resource B",
      "description": "Thread 2 successfully acquires Resource B.",
      "code_reference": "detector.on_lock_acquired(thread_id, lock_id)"
    },
    {
      "step": 6,
      "timestamp": "2023-06-15T13:00:03.000Z",
      "type": "attempt",
      "thread_id": 3,
      "resource_id": "C",
      "thread_name": "Thread 3",
      "resource_name": "Resource C",
      "description": "Thread 3 attempts to acquire Resource C.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)"
    },
    {
      "step": 7,
      "timestamp": "2023-06-15T13:00:03.200Z",
      "type": "acquired",
      "thread_id": 3,
      "resource_id": "C",
      "thread_name": "Thread 3",
      "resource_name": "Resource C",
      "description": "Thread 3 successfully acquires Resource C.",
      "code_reference": "detector.on_lock_acquired(thread_id, lock_id)"
    },
    {
      "step": 8,
      "timestamp": "2023-06-15T13:00:04.000Z",
      "type": "attempt",
      "thread_id": 1,
      "resource_id": "B",
      "thread_name": "Thread 1",
      "resource_name": "Resource B",
      "description": "Thread 1 attempts to acquire Resource B, which is currently held by Thread 2.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)",
      "wait_for_edge": {
        "from": 1,
        "to": 2
      }
    },
    {
      "step": 9,
      "timestamp": "2023-06-15T13:00:05.000Z",
      "type": "attempt",
      "thread_id": 2,
      "resource_id": "C",
      "thread_name": "Thread 2",
      "resource_name": "Resource C",
      "description": "Thread 2 attempts to acquire Resource C, which is currently held by Thread 3.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)",
      "wait_for_edge": {
        "from": 2,
        "to": 3
      }
    },
    {
      "step": 10,
      "timestamp": "2023-06-15T13:00:06.000Z",
      "type": "attempt",
      "thread_id": 3,
      "resource_id": "A",
      "thread_name": "Thread 3",
      "resource_name": "Resource A",
      "description": "Thread 3 attempts to acquire Resource A, which is currently held by Thread 1.",
      "code_reference": "detector.on_lock_attempt(thread_id, lock_id)",
      "wait_for_edge": {
        "from": 3,
        "to": 1
      }
    },
    {
      "step": 11,
      "timestamp": "2023-06-15T13:00:06.100Z",
      "type": "deadlock",
      "cycle": [1, 2, 3],
      "description": "DEADLOCK DETECTED: A circular wait condition exists among Thread 1, Thread 2, and Thread 3.",
      "code_reference": "wait_for_graph.detect_cycle_from(thread_id)",
      "deadlock_details": {
        "thread_cycle": [1, 2, 3],
        "thread_waiting_for_locks": [
          {
            "thread_id": 1,
            "lock_id": "B"
          },
          {
            "thread_id": 2,
            "lock_id": "C"
          },
          {
            "thread_id": 3,
            "lock_id": "A"
          }
        ],
        "timestamp": "2023-06-15T13:00:06.100Z"
      }
    }
  ],
  "graph_state": [
    {
      "step": 1,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": []
    },
    {
      "step": 2,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "attempt"}
      ]
    },
    {
      "step": 3,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"}
      ]
    },
    {
      "step": 4,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "attempt"}
      ]
    },
    {
      "step": 5,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "acquired"}
      ]
    },
    {
      "step": 6,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "acquired"},
        {"source": "T3", "target": "RC", "type": "attempt"}
      ]
    },
    {
      "step": 7,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "acquired"},
        {"source": "T3", "target": "RC", "type": "acquired"}
      ]
    },
    {
      "step": 8,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "acquired"},
        {"source": "T3", "target": "RC", "type": "acquired"},
        {"source": "T1", "target": "RB", "type": "attempt"}
      ]
    },
    {
      "step": 9,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "acquired"},
        {"source": "T3", "target": "RC", "type": "acquired"},
        {"source": "T1", "target": "RB", "type": "attempt"},
        {"source": "T2", "target": "RC", "type": "attempt"}
      ]
    },
    {
      "step": 10,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "acquired"},
        {"source": "T3", "target": "RC", "type": "acquired"},
        {"source": "T1", "target": "RB", "type": "attempt"},
        {"source": "T2", "target": "RC", "type": "attempt"},
        {"source": "T3", "target": "RA", "type": "attempt"}
      ]
    },
    {
      "step": 11,
      "nodes": [
        {"id": "T1", "name": "Thread 1", "type": "thread"},
        {"id": "T2", "name": "Thread 2", "type": "thread"},
        {"id": "T3", "name": "Thread 3", "type": "thread"},
        {"id": "RA", "name": "Resource A", "type": "resource"},
        {"id": "RB", "name": "Resource B", "type": "resource"},
        {"id": "RC", "name": "Resource C", "type": "resource"}
      ],
      "links": [
        {"source": "T1", "target": "RA", "type": "acquired"},
        {"source": "T2", "target": "RB", "type": "acquired"},
        {"source": "T3", "target": "RC", "type": "acquired"},
        {"source": "T1", "target": "RB", "type": "attempt"},
        {"source": "T2", "target": "RC", "type": "attempt"},
        {"source": "T3", "target": "RA", "type": "attempt"},
        {"source": "T1", "target": "T2", "type": "deadlock"},
        {"source": "T2", "target": "T3", "type": "deadlock"},
        {"source": "T3", "target": "T1", "type": "deadlock"}
      ]
    }
  ]
} 